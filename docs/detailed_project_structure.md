
# Детальная структура проекта Project02

```
Project02/
├── src/                                    # Основной код приложения
│   ├── __init__.py                        # Инициализация пакета приложения
│   ├── user_interface.py                  # Точка входа для пользовательского интерфейса
│   │
│   ├── api_modules/                       # Модули для работы с внешними API
│   │   ├── __init__.py                    # Инициализация API модулей
│   │   ├── base_api.py                    # Базовый абстрактный класс для всех API
│   │   ├── cached_api.py                  # Базовый класс с многоуровневым кэшированием
│   │   ├── get_api.py                     # Низкоуровневый HTTP-клиент с прогресс-баром
│   │   ├── hh_api.py                      # Специализированный API для работы с HH.ru
│   │   ├── sj_api.py                      # Специализированный API для работы с SuperJob
│   │   └── unified_api.py                 # Унифицированный интерфейс для всех источников
│   │
│   ├── config/                            # Конфигурационные модули
│   │   ├── __init__.py                    # Инициализация конфигураций
│   │   ├── api_config.py                  # Общие настройки для всех API (таймауты, заголовки)
│   │   ├── hh_api_config.py              # Специфичные настройки для HH.ru API
│   │   ├── sj_api_config.py              # Специфичные настройки для SuperJob API
│   │   └── ui_config.py                   # Настройки пользовательского интерфейса
│   │
│   ├── storage/                           # Модули для работы с хранилищем данных
│   │   ├── __init__.py                    # Инициализация модулей хранилища
│   │   ├── abstract.py                    # Абстрактный базовый класс для всех хранилищ
│   │   └── json_saver.py                  # Конкретная реализация JSON хранилища вакансий
│   │
│   ├── ui_interfaces/                     # Интерфейсы пользователя
│   │   ├── __init__.py                    # Инициализация UI модулей
│   │   ├── console_interface.py           # Основной консольный интерфейс с главным меню
│   │   ├── source_selector.py             # Интерфейс для выбора источников данных (HH, SJ)
│   │   ├── vacancy_display_handler.py     # Обработчик отображения и фильтрации вакансий
│   │   └── vacancy_search_handler.py      # Обработчик поиска и сохранения новых вакансий
│   │
│   ├── utils/                             # Утилиты и вспомогательные модули
│   │   ├── __init__.py                    # Инициализация утилит
│   │   ├── base_formatter.py              # Базовый абстрактный класс для форматирования
│   │   ├── cache.py                       # Система многоуровневого кэширования (память + файлы)
│   │   ├── env_loader.py                  # Загрузчик переменных окружения из .env файлов
│   │   ├── file_handlers.py               # Обработчики файловых операций и валидации
│   │   ├── menu_manager.py                # Менеджер отображения меню и пользовательской навигации
│   │   ├── paginator.py                   # Система пагинации для обработки больших объемов данных
│   │   ├── salary.py                      # Модель зарплаты и утилиты для работы с зарплатными данными
│   │   ├── search_utils.py                # Утилиты для поиска, фильтрации и сортировки вакансий
│   │   ├── source_manager.py              # Менеджер для управления различными источниками данных
│   │   ├── ui_helpers.py                  # Вспомогательные функции для пользовательского интерфейса
│   │   ├── ui_navigation.py               # Модули навигации и постраничного просмотра данных
│   │   ├── vacancy_formatter.py           # Специализированное форматирование вакансий для отображения
│   │   └── vacancy_operations.py          # Операции над коллекциями вакансий (сортировка, группировка)
│   │
│   └── vacancies/                         # Модели данных и парсеры вакансий
│       ├── parsers/                       # Парсеры данных из различных источников
│       │   ├── __init__.py                # Инициализация модулей парсеров
│       │   ├── hh_parser.py              # Парсер для преобразования данных HH.ru в унифицированный формат
│       │   └── sj_parser.py              # Парсер для преобразования данных SuperJob в унифицированный формат
│       ├── __init__.py                    # Инициализация модуля вакансий
│       ├── abstract.py                    # Абстрактные базовые модели для всех типов вакансий
│       ├── hh_models.py                   # Специализированные модели данных для вакансий HH.ru
│       ├── models.py                      # Основная унифицированная модель вакансии (Vacancy)
│       └── sj_models.py                   # Специализированные модели данных для вакансий SuperJob
│
├── tests/                                 # Комплексные тестовые модули
│   ├── __init__.py                        # Инициализация тестового пакета
│   ├── conftest.py                        # Конфигурация pytest, фикстуры и общие настройки тестирования
│   ├── test_abstract_storage.py           # Тесты абстрактного интерфейса хранилища данных
│   ├── test_api_config.py                 # Тесты конфигурационных настроек API
│   ├── test_api_modules.py                # Интеграционные тесты всех API модулей
│   ├── test_config.py                     # Тесты всех конфигурационных модулей
│   ├── test_file_handlers.py              # Тесты файловых операций и обработчиков
│   ├── test_hh_api_config.py              # Специфичные тесты для конфигурации HH API
│   ├── test_json_saver.py                 # Тесты JSON хранилища и сериализации данных
│   ├── test_progress_handling.py          # Тесты системы отображения прогресса операций
│   ├── test_storage.py                    # Тесты всех компонентов системы хранения данных
│   ├── test_utils.py                      # Тесты вспомогательных утилит и хелперов
│   └── test_vacancies.py                  # Тесты моделей вакансий и их преобразований
│
├── data/                                  # Директория для хранения данных приложения
│   ├── cache/                             # Кэш для временного хранения API запросов
│   │   ├── hh/                           # Кэш специально для запросов к HH.ru API
│   │   └── sj/                           # Кэш специально для запросов к SuperJob API
│   └── storage/                           # Постоянное хранилище пользовательских данных
│       └── vacancies.json                 # JSON файл с сохраненными пользователем вакансиями
│
├── docs/                                  # Документация и техническая информация
│   ├── project_structure.md               # Подробное описание архитектуры проекта
│   ├── module_interaction_diagram.md      # Диаграммы взаимодействия между модулями и классами
│   ├── detailed_project_structure.md      # Данный файл с детальной структурой
│   └── api_documentation.md               # Техническая документация по использованию API
│
├── attached_assets/                       # Вложенные файлы и ресурсы
│   └── *.txt                             # Различные текстовые файлы и логи
│
├── .pytest_cache/                         # Автогенерируемый кэш pytest
│
├── main.py                                # Главная точка входа в приложение
├── pyproject.toml                         # Конфигурация проекта, зависимости и метаданные
├── poetry.lock                            # Файл с зафиксированными версиями всех зависимостей
├── poetry.toml                            # Настройки менеджера пакетов Poetry
├── README.md                              # Основное описание проекта и инструкции по использованию
├── working.md                             # Рабочие заметки и временная документация
├── .env.sample                            # Пример файла с переменными окружения
├── .gitignore                             # Файлы и директории, исключаемые из версионного контроля
├── .flake8                               # Настройки статического анализатора кода flake8
├── .coveragerc                           # Конфигурация для измерения покрытия кода тестами
└── .replit                               # Конфигурационный файл для платформы Replit
```

## Описание основных компонентов

### 🔧 Конфигурационный слой (config/)
- **api_config.py**: Центральные настройки для HTTP-клиентов, таймауты, пользовательские агенты
- **hh_api_config.py**: Специфичные параметры для HH.ru (коды регионов, валют, опыта)
- **sj_api_config.py**: Специфичные параметры для SuperJob (каталоги, фильтры)
- **ui_config.py**: Настройки интерфейса (размеры страниц, цвета, форматирование)

### 🌐 API слой (api_modules/)
- **base_api.py**: Абстрактный интерфейс для всех источников вакансий
- **cached_api.py**: Реализация многоуровневого кэширования (память + диск)
- **get_api.py**: HTTP-клиент с обработкой ошибок и прогресс-барами
- **hh_api.py**: Полная реализация для работы с HH.ru API
- **sj_api.py**: Полная реализация для работы с SuperJob API
- **unified_api.py**: Единый интерфейс для работы со всеми источниками

### 💾 Слой данных (storage/ + vacancies/)
- **storage/abstract.py**: Абстрактный интерфейс для всех типов хранилищ
- **storage/json_saver.py**: JSON-реализация с валидацией и атомарными операциями
- **vacancies/models.py**: Основная модель Vacancy с нормализацией данных
- **vacancies/parsers/**: Преобразователи данных из внешних API в унифицированный формат

### 🎨 Пользовательский интерфейс (ui_interfaces/)
- **console_interface.py**: Главное меню и координация всех операций
- **source_selector.py**: Выбор источников данных (HH, SuperJob, оба)
- **vacancy_search_handler.py**: Обработка поиска новых вакансий
- **vacancy_display_handler.py**: Отображение, фильтрация и управление сохраненными вакансиями

### 🛠 Утилиты (utils/)
- **cache.py**: Файловый кэш с TTL и автоочисткой
- **paginator.py**: Обработка больших объемов данных порциями
- **vacancy_formatter.py**: Красивое форматирование вакансий для консоли
- **ui_navigation.py**: Постраничная навигация с пользовательским вводом
- **search_utils.py**: Алгоритмы поиска и фильтрации по ключевым словам

### 🧪 Тестирование (tests/)
- Полное покрытие тестами всех модулей
- Интеграционные тесты для API
- Мокирование внешних зависимостей
- Тестирование пользовательских сценариев

## Принципы архитектуры

### 📐 SOLID принципы
- **S**: Каждый класс имеет единственную ответственность
- **O**: Открыт для расширения, закрыт для модификации
- **L**: Подтипы заменяемы базовыми типами
- **I**: Интерфейсы специфичны для клиентов
- **D**: Зависимость от абстракций, не от конкретных реализаций

### 🔄 Паттерны проектирования
- **Strategy**: Различные стратегии парсинга для разных источников
- **Template Method**: Базовые алгоритмы в абстрактных классах
- **Facade**: UnifiedAPI как единый интерфейс к сложной подсистеме
- **Repository**: Абстракция доступа к данным через AbstractStorage
