
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∏–∞–≥—Ä–∞–º–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥—É–ª–µ–π Project02</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: auto;
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .diagram-container {
            width: 100%;
            height: 800px;
            border: 2px solid #ddd;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(45deg, #f0f8ff 0%, #e6f3ff 100%);
        }

        .module {
            position: absolute;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            font-weight: bold;
            text-align: center;
            min-width: 120px;
            backdrop-filter: blur(10px);
        }

        .module:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .module.selected {
            border-color: #ff6b6b;
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
            transform: scale(1.08);
        }

        /* –¶–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ–µ–≤ */
        .ui-layer { background: rgba(255, 99, 132, 0.8); color: white; }
        .api-layer { background: rgba(54, 162, 235, 0.8); color: white; }
        .model-layer { background: rgba(255, 206, 86, 0.8); color: #333; }
        .storage-layer { background: rgba(75, 192, 192, 0.8); color: white; }
        .utils-layer { background: rgba(153, 102, 255, 0.8); color: white; }
        .config-layer { background: rgba(255, 159, 64, 0.8); color: white; }

        .connection {
            position: absolute;
            background: #666;
            z-index: 1;
            opacity: 0.6;
            transition: all 0.3s ease;
        }

        .connection.active {
            background: #ff6b6b;
            opacity: 1;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .info-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            display: none;
            z-index: 1000;
            max-height: 70vh;
            overflow-y: auto;
        }

        .info-panel h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .info-panel ul {
            padding-left: 20px;
        }

        .info-panel li {
            margin-bottom: 5px;
        }

        .controls {
            text-align: center;
            margin-bottom: 20px;
        }

        .controls button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîó –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –º–æ–¥—É–ª–µ–π Project02</h1>
        
        <div class="controls">
            <button onclick="resetView()">üîÑ –°–±—Ä–æ—Å</button>
            <button onclick="showAllConnections()">üåê –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–≤—è–∑–∏</button>
            <button onclick="hideAllConnections()">üö´ –°–∫—Ä—ã—Ç—å —Å–≤—è–∑–∏</button>
            <button onclick="animateFlow()">‚ú® –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤</button>
        </div>

        <div class="legend">
            <div class="legend-item ui-layer">üñ•Ô∏è UI —Å–ª–æ–π</div>
            <div class="legend-item api-layer">üîå API —Å–ª–æ–π</div>
            <div class="legend-item model-layer">üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö</div>
            <div class="legend-item storage-layer">üíæ –•—Ä–∞–Ω–∏–ª–∏—â–µ</div>
            <div class="legend-item utils-layer">üõ†Ô∏è –£—Ç–∏–ª–∏—Ç—ã</div>
            <div class="legend-item config-layer">‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</div>
        </div>

        <div class="diagram-container" id="diagram">
            <!-- –ú–æ–¥—É–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <div class="info-panel" id="infoPanel">
        <button class="close-btn" onclick="closeInfoPanel()">√ó</button>
        <div id="infoContent"></div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –æ –º–æ–¥—É–ª—è—Ö –∏ –∏—Ö —Å–≤—è–∑—è—Ö
        const modules = {
            // UI —Å–ª–æ–π
            'ConsoleInterface': {
                layer: 'ui-layer',
                position: {x: 50, y: 50},
                description: '–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
                methods: ['run()', 'show_main_menu()', '_search_vacancies()'],
                connects: ['VacancySearchHandler', 'VacancyDisplayHandler', 'JSONSaver']
            },
            'VacancySearchHandler': {
                layer: 'ui-layer',
                position: {x: 250, y: 50},
                description: '–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π',
                methods: ['search_vacancies()', 'get_search_parameters()'],
                connects: ['UnifiedAPI', 'JSONSaver', 'SourceSelector']
            },
            'VacancyDisplayHandler': {
                layer: 'ui-layer',
                position: {x: 450, y: 50},
                description: '–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏–π',
                methods: ['show_all_saved_vacancies()', 'show_top_vacancies_by_salary()'],
                connects: ['JSONSaver', 'VacancyFormatter', 'UINavigation']
            },
            'SourceSelector': {
                layer: 'ui-layer',
                position: {x: 650, y: 50},
                description: '–°–µ–ª–µ–∫—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö',
                methods: ['select_source()', 'get_available_sources()'],
                connects: ['UnifiedAPI']
            },

            // API —Å–ª–æ–π
            'UnifiedAPI': {
                layer: 'api-layer',
                position: {x: 150, y: 180},
                description: '–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö API',
                methods: ['search_vacancies()', 'get_all_sources()'],
                connects: ['HeadHunterAPI', 'SuperJobAPI']
            },
            'HeadHunterAPI': {
                layer: 'api-layer',
                position: {x: 50, y: 280},
                description: 'API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HH.ru',
                methods: ['get_vacancies()', 'get_vacancies_page()'],
                connects: ['CachedAPI', 'BaseJobAPI', 'HHParser']
            },
            'SuperJobAPI': {
                layer: 'api-layer',
                position: {x: 250, y: 280},
                description: 'API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SuperJob',
                methods: ['get_vacancies()', 'get_vacancies_page()'],
                connects: ['CachedAPI', 'BaseJobAPI', 'SJParser']
            },
            'CachedAPI': {
                layer: 'api-layer',
                position: {x: 450, y: 280},
                description: '–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º',
                methods: ['_get_cached_data()', '_save_to_cache()'],
                connects: ['APIConnector', 'FileCache']
            },
            'BaseJobAPI': {
                layer: 'api-layer',
                position: {x: 650, y: 280},
                description: '–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å API',
                methods: ['get_vacancies()', '_validate_vacancy()'],
                connects: []
            },
            'APIConnector': {
                layer: 'api-layer',
                position: {x: 450, y: 380},
                description: 'HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤',
                methods: ['connect()', '_make_request()'],
                connects: ['ProgressBar']
            },

            // –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
            'VacancyModel': {
                layer: 'model-layer',
                position: {x: 850, y: 180},
                description: '–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –≤–∞–∫–∞–Ω—Å–∏–∏',
                methods: ['from_dict()', 'to_dict()', '__str__()'],
                connects: ['SalaryModel']
            },
            'SalaryModel': {
                layer: 'model-layer',
                position: {x: 850, y: 280},
                description: '–ú–æ–¥–µ–ª—å –∑–∞—Ä–ø–ª–∞—Ç—ã',
                methods: ['__str__()', 'get_average()'],
                connects: []
            },
            'HHParser': {
                layer: 'model-layer',
                position: {x: 1050, y: 180},
                description: '–ü–∞—Ä—Å–µ—Ä –¥–∞–Ω–Ω—ã—Ö HH.ru',
                methods: ['parse_vacancy()', 'parse_salary()'],
                connects: ['VacancyModel']
            },
            'SJParser': {
                layer: 'model-layer',
                position: {x: 1050, y: 280},
                description: '–ü–∞—Ä—Å–µ—Ä –¥–∞–Ω–Ω—ã—Ö SuperJob',
                methods: ['parse_vacancy()', 'parse_salary()'],
                connects: ['VacancyModel']
            },

            // –•—Ä–∞–Ω–∏–ª–∏—â–µ
            'JSONSaver': {
                layer: 'storage-layer',
                position: {x: 50, y: 480},
                description: 'JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∞–∫–∞–Ω—Å–∏–π',
                methods: ['add_vacancy()', 'load_vacancies()', 'delete_vacancy_by_id()'],
                connects: ['AbstractStorage']
            },
            'AbstractStorage': {
                layer: 'storage-layer',
                position: {x: 250, y: 480},
                description: '–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞',
                methods: ['add_vacancy()', 'get_vacancies()'],
                connects: []
            },

            // –£—Ç–∏–ª–∏—Ç—ã
            'VacancyFormatter': {
                layer: 'utils-layer',
                position: {x: 450, y: 480},
                description: '–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è',
                methods: ['format_vacancy()', 'format_salary()'],
                connects: []
            },
            'UINavigation': {
                layer: 'utils-layer',
                position: {x: 650, y: 480},
                description: '–ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä',
                methods: ['paginate()', '_display_page()'],
                connects: []
            },
            'FileCache': {
                layer: 'utils-layer',
                position: {x: 450, y: 580},
                description: '–§–∞–π–ª–æ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ',
                methods: ['get()', 'set()', 'clear()'],
                connects: []
            },
            'ProgressBar': {
                layer: 'utils-layer',
                position: {x: 650, y: 580},
                description: '–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞',
                methods: ['update()', 'close()'],
                connects: []
            },
            'Paginator': {
                layer: 'utils-layer',
                position: {x: 850, y: 480},
                description: '–ü–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤',
                methods: ['paginate()', 'get_page()'],
                connects: []
            },

            // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
            'APIConfig': {
                layer: 'config-layer',
                position: {x: 1050, y: 480},
                description: '–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API',
                methods: ['get_timeout()', 'get_headers()'],
                connects: []
            },
            'HHAPIConfig': {
                layer: 'config-layer',
                position: {x: 1050, y: 580},
                description: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ HH.ru API',
                methods: ['get_params()', 'get_base_url()'],
                connects: ['APIConfig']
            },
            'SJAPIConfig': {
                layer: 'config-layer',
                position: {x: 850, y: 580},
                description: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ SuperJob API',
                methods: ['get_params()', 'get_base_url()'],
                connects: ['APIConfig']
            }
        };

        let connections = [];
        let selectedModule = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∏–∞–≥—Ä–∞–º–º—ã
        function initDiagram() {
            const diagram = document.getElementById('diagram');
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π
            Object.entries(modules).forEach(([name, data]) => {
                const moduleEl = document.createElement('div');
                moduleEl.className = `module ${data.layer}`;
                moduleEl.id = `module-${name}`;
                moduleEl.textContent = name;
                moduleEl.style.left = data.position.x + 'px';
                moduleEl.style.top = data.position.y + 'px';
                
                moduleEl.addEventListener('click', () => selectModule(name));
                diagram.appendChild(moduleEl);
            });

            // –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
            createConnections();
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–Ω–∏–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
        function createConnections() {
            const diagram = document.getElementById('diagram');
            
            Object.entries(modules).forEach(([fromName, fromData]) => {
                fromData.connects.forEach(toName => {
                    if (modules[toName]) {
                        const connection = createConnection(fromName, toName);
                        diagram.appendChild(connection);
                        connections.push({
                            element: connection,
                            from: fromName,
                            to: toName
                        });
                    }
                });
            });
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –¥–≤—É–º—è –º–æ–¥—É–ª—è–º–∏
        function createConnection(fromName, toName) {
            const fromEl = document.getElementById(`module-${fromName}`);
            const toEl = document.getElementById(`module-${toName}`);
            
            const fromRect = fromEl.getBoundingClientRect();
            const toRect = toEl.getBoundingClientRect();
            const diagramRect = document.getElementById('diagram').getBoundingClientRect();
            
            const fromX = fromEl.offsetLeft + fromEl.offsetWidth / 2;
            const fromY = fromEl.offsetTop + fromEl.offsetHeight / 2;
            const toX = toEl.offsetLeft + toEl.offsetWidth / 2;
            const toY = toEl.offsetTop + toEl.offsetHeight / 2;
            
            const length = Math.sqrt(Math.pow(toX - fromX, 2) + Math.pow(toY - fromY, 2));
            const angle = Math.atan2(toY - fromY, toX - fromX) * 180 / Math.PI;
            
            const connection = document.createElement('div');
            connection.className = 'connection';
            connection.style.width = length + 'px';
            connection.style.height = '2px';
            connection.style.left = fromX + 'px';
            connection.style.top = fromY + 'px';
            connection.style.transformOrigin = '0 50%';
            connection.style.transform = `rotate(${angle}deg)`;
            
            return connection;
        }

        // –í—ã–±–æ—Ä –º–æ–¥—É–ª—è
        function selectModule(moduleName) {
            // –°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –º–æ–¥—É–ª—è
            if (selectedModule) {
                document.getElementById(`module-${selectedModule}`).classList.remove('selected');
            }
            
            // –í—ã–¥–µ–ª–∏—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å
            selectedModule = moduleName;
            document.getElementById(`module-${moduleName}`).classList.add('selected');
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —Å–≤—è–∑–∏ –º–æ–¥—É–ª—è
            showModuleConnections(moduleName);
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å
            showInfoPanel(moduleName);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–≤—è–∑–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
        function showModuleConnections(moduleName) {
            connections.forEach(conn => {
                if (conn.from === moduleName || conn.to === moduleName) {
                    conn.element.classList.add('active');
                } else {
                    conn.element.classList.remove('active');
                }
            });
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å
        function showInfoPanel(moduleName) {
            const module = modules[moduleName];
            const panel = document.getElementById('infoPanel');
            const content = document.getElementById('infoContent');
            
            content.innerHTML = `
                <h3>üì¶ ${moduleName}</h3>
                <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${module.description}</p>
                <p><strong>–°–ª–æ–π:</strong> ${getLayerName(module.layer)}</p>
                <h4>üîß –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:</h4>
                <ul>
                    ${module.methods.map(method => `<li><code>${method}</code></li>`).join('')}
                </ul>
                <h4>üîó –°–≤—è–∑–∏ —Å –º–æ–¥—É–ª—è–º–∏:</h4>
                <ul>
                    ${module.connects.length > 0 
                        ? module.connects.map(conn => `<li>${conn}</li>`).join('')
                        : '<li>–ù–µ—Ç –ø—Ä—è–º—ã—Ö —Å–≤—è–∑–µ–π</li>'
                    }
                </ul>
                <h4>üìä –í—Ö–æ–¥—è—â–∏–µ —Å–≤—è–∑–∏:</h4>
                <ul>
                    ${getIncomingConnections(moduleName).length > 0
                        ? getIncomingConnections(moduleName).map(conn => `<li>${conn}</li>`).join('')
                        : '<li>–ù–µ—Ç –≤—Ö–æ–¥—è—â–∏—Ö —Å–≤—è–∑–µ–π</li>'
                    }
                </ul>
            `;
            
            panel.style.display = 'block';
        }

        // –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–ª–æ—è
        function getLayerName(layerClass) {
            const layerNames = {
                'ui-layer': '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å',
                'api-layer': 'API —Å–ª–æ–π',
                'model-layer': '–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö',
                'storage-layer': '–•—Ä–∞–Ω–∏–ª–∏—â–µ',
                'utils-layer': '–£—Ç–∏–ª–∏—Ç—ã',
                'config-layer': '–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è'
            };
            return layerNames[layerClass] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
        }

        // –ü–æ–ª—É—á–∏—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        function getIncomingConnections(moduleName) {
            return Object.entries(modules)
                .filter(([name, data]) => data.connects.includes(moduleName))
                .map(([name]) => name);
        }

        // –ó–∞–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—É—é –ø–∞–Ω–µ–ª—å
        function closeInfoPanel() {
            document.getElementById('infoPanel').style.display = 'none';
            if (selectedModule) {
                document.getElementById(`module-${selectedModule}`).classList.remove('selected');
                selectedModule = null;
            }
            hideAllConnections();
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        function showAllConnections() {
            connections.forEach(conn => {
                conn.element.classList.add('active');
            });
        }

        // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        function hideAllConnections() {
            connections.forEach(conn => {
                conn.element.classList.remove('active');
            });
        }

        // –°–±—Ä–æ—Å–∏—Ç—å –≤–∏–¥
        function resetView() {
            closeInfoPanel();
            hideAllConnections();
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
        function animateFlow() {
            const dataFlow = [
                'ConsoleInterface',
                'VacancySearchHandler', 
                'UnifiedAPI',
                'HeadHunterAPI',
                'CachedAPI',
                'APIConnector',
                'HHParser',
                'VacancyModel',
                'JSONSaver'
            ];

            let currentIndex = 0;
            const animateNext = () => {
                if (currentIndex < dataFlow.length) {
                    if (currentIndex > 0) {
                        document.getElementById(`module-${dataFlow[currentIndex - 1]}`).classList.remove('selected');
                    }
                    
                    selectModule(dataFlow[currentIndex]);
                    currentIndex++;
                    setTimeout(animateNext, 1000);
                } else {
                    setTimeout(() => resetView(), 2000);
                }
            };

            resetView();
            setTimeout(animateNext, 500);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', initDiagram);
    </script>
</body>
</html>
